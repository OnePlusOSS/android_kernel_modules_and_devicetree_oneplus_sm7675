# SPDX-License-Identifier: GPL-2.0-only
# Copyright (c) 2023-2024 Qualcomm Innovation Center, Inc. All rights reserved.

CONFIG_QCOM_KGSL_SORT_POOL = y
CONFIG_QCOM_KGSL_IDLE_TIMEOUT = 80
CONFIG_QCOM_KGSL_CONTEXT_DEBUG = y
CONFIG_QCOM_ADRENO_DEFAULT_GOVERNOR = \"msm-adreno-tz\"
CONFIG_QCOM_KGSL_USE_SHMEM=y
CONFIG_QCOM_KGSL_PROCESS_RECLAIM=y

ifneq ($(CONFIG_SHMEM),)
	CONFIG_QCOM_KGSL_USE_SHMEM = y
	CONFIG_QCOM_KGSL_PROCESS_RECLAIM = y
endif

ifneq ($(CONFIG_CORESIGHT),)
        CONFIG_QCOM_KGSL_CORESIGHT = y
endif

ccflags-y += -DCONFIG_QCOM_KGSL_SORT_POOL=1 \
	-DCONFIG_QCOM_KGSL_IDLE_TIMEOUT=80 \
	-DCONFIG_QCOM_KGSL_CONTEXT_DEBUG=1 \
	-DCONFIG_QCOM_ADRENO_DEFAULT_GOVERNOR=\"msm-adreno-tz\"

ifneq ($(CONFIG_CORESIGHT),)
        ccflags-y += -DCONFIG_QCOM_KGSL_CORESIGHT=1
endif

ifneq ($(CONFIG_SHMEM),)
	ccflags-y += -DCONFIG_QCOM_KGSL_USE_SHMEM=1 \
			-DCONFIG_QCOM_KGSL_PROCESS_RECLAIM=1
endif
